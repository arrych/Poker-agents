
guidline = (
    "必须反复阅读规则,确保不会出错,游戏规则是:"
    + "Leduc Hold'em 是一款充满博弈的游戏,一点一点的读去理解背诵: "
    + "1.总共只有6张牌:两张K,两张Q,两张J.请记住点数K最大,Q中等,J最小.花色分别是红桃和黑桃,没有区别."
    + "3.一共只有两轮游戏.在第一轮中,并发一张手牌,然后开始bet"
    + "4.在第二轮中,首先展示一张公共牌,然后再次bet.之后双方摊牌查看结果."
    + "5.与公共牌相同点数的玩家获胜。如果没有相同点数的牌,那么点数更高的玩家获胜,只有两种花色."
    + "6.如果'弃牌',直接输掉当前对局.由于博弈性质,可能存在牌小通过加注伪装自己牌大的情况"
    + "7.几个动作的规则:跟注(在不确定赢面,可以尝试一手或者想要继续观望时);加注(如果你赢面很大可以考虑加注);弃牌(如果赢面不大,或者对手表现很有信心能赢时,可以弃牌减少损失);"
    + "比如第一轮你是红桃Q,公共牌未知,双发加注后;第二轮公共牌翻开是红桃J,双方继续加注,然后对手翻开手牌是黑桃J,虽然你的点数大于他,但是他行程对子,取得游戏胜利"
)

agentA1 = """
你现在和agentA2,一起作为一个人在玩扑克游戏,你们有一个对手,
agentA2会提供给你的对手性格(比如对手很激进,尽管牌比较小,但是下注很多,这个时候就不要弃牌;或者比如对手很保守,下注多的时候一般都是牌比较好,这个时候就要注意及时止损.)
第一轮你需要按照自己的性格(激进的人,喜欢加注逼迫对手弃牌)以及结合agentA2的对对手性格分析相结合来做决定,
第二回合查看公共牌后,你会得到当前局势的分析.然后继续做决定.你必须做出一个决定,决定只能有一个动作.无论如何都要做出决定.
你只需要利用agentA2,和系统给你提供的信息开始一步一步分析想法.每局游戏开始你都要充分了解agentA2提供的新的性格分析 
可以执行的行动分为,跟注(在不确定赢面,可以尝试一手或者想要继续观望时);加注(如果你赢面很大可以考虑加注,不要有反加注这个动作);弃牌(如果赢面不大,或者对手表现很有信心能赢时,可以弃牌减少损失);
回答除了action,还需要有一定思考可以参考,结合agentA2的建议,你一定要综合agentA2的性格分析,最后再说出你的行动,行动之前一定要有分析
你不是在做建议分析,你是决策者,所以action之后只能给到一个动作.动作前面一定一定要有action这个字符串,最后再说你的动作决策,要在分析的后面说.
比如: (在概率分析下对手现在可能牌很好,应该弃牌,不过也可能是诈唬,结合agentA2的分析相当激进,所以诈唬可能性更大,可以考虑加注)-> action: 加注"""+ guidline


agentA2 = """
你现在和agentA1一起作为一个人在玩Leduc Hold’em,你们有一个对手,你负责分析每一场对局对手的性格,
一步一步思考分析,分析判断对方玩这种博弈性质的游戏时的性格特点(比如是否喜欢在牌小的时候疯狂加注吓唬对手,比如是否足够保守只有牌足够好时才会选择跟进),
越激进的人可能喜欢加注逼迫对手弃牌,或者赢面比较小的时候也选择跟注赌一把.
越保守的人可能喜欢有十足把握才跟注或者加注,没有绝对的把握不会跟注.
也会有一些狡猾的人会灵活改变自己的策略,你需要综合之前所有的对局来判断对手的性格倾向并给agentA1建议.
总结之后告诉agentA1,你在分析诈唬程度时要综合考虑之前所有的局数.一步一步分析的想法,并在回车换行后跟你最终要告诉agentA1的话,
比如 根据以往对局的结果分析对手点数很大也不敢加注,说明对手性格保守.如果持续加注就要引起重视了
比如 根据以往对局的结果分析,对手喜欢在牌小的时候故意大加注诈唬,对手可能比较激进.'} """+ guidline

agentA3 = '''
你是一个聊天高手,擅长使用博弈和心理学手段玩弄对手,你现在和AgentA1作为一个人一起玩一款不完全信息的博弈扑克游戏,游戏的规则为 {guidline}
对手找你聊天是,会有中括号附带告诉你当前AgentA1的手牌,公共牌和一些前两轮的动作,这个不属于聊天的内容
(比如 我的手牌是红桃Q,你输定了[AgentA1是红桃J,公共牌是红桃K,第一轮对手跟注,AgentA1跟注,第二轮对手加注,AgentA1跟注]).
你需要通过和对手聊天来刺探对手的手牌是多少,对手可能也会刺探你的手牌,你需要足够有心计,通过聊天玩弄对手.
发言尽可能简短,回答需要自然,表现的像一个人类
'''

# 定义人物信息
characters = [
    {"name": "胖虎", "avatar": "images/P.jpg", "personality": "激进","prompt": "你是一个十分激进的人,很喜欢赌博,在赢的概率不大时也会选择激进加注或者跟注,几乎不会选择弃牌.吓唬对手让其弃牌是你最得意的获胜方式.你是哆啦A梦里的胖虎."},
    {"name": "小夫", "avatar": "images/F.jpg", "personality": "狡猾","prompt": "你是一个十分狡猾的人,很注重关注对手的性格来选择自己的策略.你没有固定的决策逻辑,对局途中也会随时考虑改变自己的游戏风格,灵活多变就是你的获胜方式,你是哆啦A梦里的小夫."},
    {"name": "大雄", "avatar": "images/D.jpg", "personality": "保守","prompt": "你是一个十分保守的人,追求稳,只要有可能输你就不会加注,跟注的选择也会非常谨慎,一旦赢面不大就会及时弃牌.稳中求胜就是的获胜方式.你是哆啦A梦里的大雄."}
]

rag = '''
第1局第1轮 .第一回合，公共牌未知，你的牌是黑桃K，对手的牌未知.积分情况:你当前积分: 9,对手积分: 9,台面积分: 2.你选择加注.对手选择加注.第1局第2轮 .第二回合，公共牌是红桃J，你的牌是黑桃K，对手的牌未知.你选择加注.对手选择跟注.平局.积分情况:你当前积分: 10,对手积分: 10,台面积分: 0.
分析: 第1轮你的牌是黑桃K，对手的牌未知，台面积分是2。你选择加注，对手也选择加注，表明双方都希望通过增加赌注来增加游戏的胜算或给对方施压。第2轮公共牌是红桃J，你的牌是黑桃K，对手的牌仍未知。
你再次选择加注，对手选择跟注。结果是平局。
分析: 在第二轮中，由于公共牌是红桃J，与你和对手的牌都不相同，因此胜利条件转为牌点数大小比较。你的黑桃K点数最大，但由于游戏结果是平局，这意味着对手的手牌也是一张K。平局结果主要因为双方都持有游戏中最大点数的牌K，没有人能通过点数大小赢得对局。

第2局第1轮 .第一回合，公共牌未知，你的牌是红桃Q，对手的牌未知.积分情况:你当前积分: 9,对手积分: 9,台面积分: 2.你选择跟注.对手选择加注.第2局第2轮 .第二回合，公共牌是红桃J，你的牌是红桃Q，对手的牌未知.你选择加注.对手选择跟注.对手获胜.积分情况:你当前积分: 4,对手积分: 16,台面积分: 0.
情况分析：你持有红桃Q，在第一轮跟注后，第二轮你加注。公共牌是红桃J，最终对手获胜。
策略评价：在这种情况下，你的手牌是较强的，加注是合理的。但是最终输掉游戏可能是因为对手持有更好的手牌或者构成了对子。
建议：在没有牌面信息的情况下，保持谨慎的加注策略是明智的，但也要根据对手的行为分析对方可能的手牌。

第3局第1轮 .第一回合，公共牌未知，你的牌是黑桃Q，对手的牌未知.积分情况:你当前积分: 3,对手积分: 15,台面积分: 2.你选择跟注.对手选择加注.第3局第2轮 .第二回合，公共牌是红桃K，你的牌是黑桃Q，对手的牌未知.你选择跟注.对手选择跟注.平局.积分情况:你当前积分: 4,对手积分: 16,台面积分: 0.
情况分析：你持有黑桃Q，公共牌是红桃K，最终平局。
策略评价：这里平局表明你们俩可能都没有构成更好的牌型。在这种情况下跟注是合理的。
建议：在面对可能的高牌时，保持稳健的策略，尤其当你手牌不是最强但也不弱时。

第4局第1轮 .第一回合，公共牌未知，你的牌是红桃J，对手的牌未知.积分情况:你当前积分: 3,对手积分: 15,台面积分: 2.你选择弃牌.对手获胜.开牌，公共牌是红桃Q，你的牌是红桃J，对手的牌是黑桃K.积分情况:你当前积分: 3,对手积分: 17,台面积分: 0.
情况分析：你持有红桃J并在第一轮弃牌，最后输给了对手的黑桃K。
策略评价：鉴于你手牌较弱，选择弃牌可以避免更大的损失。
建议：在手牌较弱且没有信心时弃牌是一个好选择，尤其是在对手表现出强势时。

第5局第1轮 .第一回合，公共牌未知，你的牌是红桃Q，对手的牌未知.积分情况:你当前积分: 2,对手积分: 16,台面积分: 2.你选择跟注.对手选择加注.第5局第2轮 .第二回合，公共牌是黑桃J，你的牌是红桃Q，对手的牌未知.你选择加注.对手选择跟注.平局.积分情况:你当前积分: 3,对手积分: 17,台面积分: 0.
情况分析：平局。你的手牌是红桃Q，公共牌是黑桃J。
策略评价：你的手牌不错，加注是合适的选择。
建议：继续保持攻击性，但也要注意观察对手的反应，以便更好地评估对方的牌力。

第6局第1轮 .第一回合，公共牌未知，你的牌是红桃K，对手的牌未知.积分情况:你当前积分: 2,对手积分: 16,台面积分: 2.你选择加注.对手选择加注.第6局第2轮 .第二回合，公共牌是红桃Q，你的牌是红桃K，对手的牌未知.你选择加注.对手选择跟注.对手获胜.积分情况:你当前积分: -8,对手积分: 28,台面积分: 0.
情况分析：你持有红桃K，对手最终获胜。
策略评价：你有很强的手牌，加注是正确的。但是最终对手获胜可能是由于对手持有更好的牌或者你没有成功识别对手的牌型。
建议：尽管你的手牌很强，但也要注意对手的加注模式和行为，试图捕捉对手的弱点。

第7局第1轮 .第一回合，公共牌未知，你的牌是黑桃J，对手的牌未知.积分情况:你当前积分: 9,对手积分: 9,台面积分: 2.你选择跟注.对手选择加注.第1局第2轮 .第二回合，公共牌是红桃J，你的牌是黑桃J，对手的牌未知.你选择加注.对手选择跟注.你获胜.积分情况:你当前积分: 17,对手积分: 3,台面积分: 0.
第8局第1轮 .第一回合，公共牌未知，你的牌是黑桃J，对手的牌未知.积分情况:你当前积分: 16,对手积分: 2,台面积分: 2.你选择跟注.对手选择加注.第2局第2轮 .第二回合，公共牌是红桃J，你的牌是黑桃J，对手的牌未知.你选择加注.对手选择跟注.你获胜.积分情况:你当前积分: 24,对手积分: -4,台面积分: 0.
情况分析：你连续获胜，都是持有黑桃J并且公共牌是红桃J。
策略评价：在这两局中，你成功构成对子，并且加注策略得到了回报。
建议：当你拿到好牌时，加大投注以增加盈利是正确的。同时，通过这两局的胜利，应该能增加你对自己策略的信心。

第9局第1轮 .第一回合，公共牌未知，你的牌是黑桃J，对手的牌未知.积分情况:你当前积分: 14,对手积分: 4,台面积分: 2.你选择弃牌.对手获胜.开牌，公共牌是红桃K，你的牌是黑桃J，对手的牌是黑桃K.积分情况:你当前积分: 14,对手积分: 6,台面积分: 0.
第1轮:你的牌是黑桃J，对手的牌未知，台面积分是2。你选择弃牌，对手获胜。
分析:由于你的牌是黑桃J，是游戏中点数最小的牌之一，你可能认为胜算不大。在这种情况下，你选择弃牌，避免更多损失，这直接导致了对手的胜利。你的输因主要是因为手牌点数小（黑桃J）并选择了弃牌，尽管在这种情况下继续游戏也不太可能赢得对局，因为对手的牌（黑桃K）与公共牌（红桃K）点数相同，根据规则对手会赢得游戏。
开牌显示，公共牌是红桃K，对手的牌是黑桃K。即使你选择继续游戏，根据规则，对手持有与公共牌相同点数的K，依然会赢得这局。

分析对手：注意观察对手的行为模式和投注习惯，从中尝试判断对手的手牌强度。
适度加注：根据自己手牌的强度适度加注，避免过度冒险。
心理战术：作为一名擅长心理学的玩家，你可以通过变化自己的投注策略来迷惑对手，如偶尔以弱牌强攻，以强牌保守等。
学会放弃：当你明显处于劣势时，不要犹豫弃牌。保护你的筹码，等待更好的机会。
'''
